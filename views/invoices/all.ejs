<% layout('layouts/boilerplate') %>
<section class="index-invoices">
  <div class="d-flex justify-content-between align-items-center">
    <h2 class="color-purple-Grey "><strong><%- invoices.length %></strong> <%= invoices.length > 1 ? "Invoices" : "Invoice" %></h2>
    <div>
      
      <a href="/invoices/create">
        <button class="button button-primary">New Invoice</button>
      </a>
    </div>
  </div>
  <div class="mt-5">
    <% for(let invoice of invoices){ %>
    <a href="/invoices/<%= invoice._id%>">
      <article class="mb-4 p-3 index-invoice-card">
        <div
          class="mb-2 d-flex flex-wrap justify-content-between align-items-center"
        >
          <div>
            <p><strong>#57E7H5</strong></p>
            <p>Due <%= String(invoice.invoiceDate).slice(0, 15) %></p>
          </div>
          <p><%= invoice.clientName %></p>
        </div>
        <div
          class="d-flex flex-wrap justify-content-between align-items-center"
        >
          <h5>Â£<%= invoice.invoiceTotal %></h5>
          <% if(invoice.paid){ %>
          <div class="paid">
            <svg
              aria-hidden="true"
              focusable="false"
              data-prefix="fas"
              data-icon="circle"
              class="svg-inline--fa fa-circle fa-w-16"
              role="img"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
            >
              <path
                fill="##33D69F"
                d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"
              ></path>
            </svg>
            Paid
          </div>
          <% } else{ %>
          <div class="pending">
            <svg
              aria-hidden="true"
              focusable="false"
              data-prefix="fas"
              data-icon="circle"
              class="svg-inline--fa fa-circle fa-w-16"
              role="img"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
            >
              <path
                fill="#FF8F00"
                d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"
              ></path>
            </svg>
            Pending
          </div>
          <% } %>
        </div>
      </article>
    </a>
    <% } %>
  </div>
</section>
